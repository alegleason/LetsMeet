<ion-header>
  <ion-toolbar class="myToolbar">
      <ion-img src="../../assets/img/logoheader2.png" (click)="mainpage()"></ion-img>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  <ion-grid>
    <ion-row class="myRowCentered">
      <ion-col size-sm=10 size-md=8 size-lg=6>
        <form [formGroup]="this.eventService.form">

          <div [hidden]=hiddenDivs[0] class="greyText">
            <div class="ion-text-center">
              <h3> Let's start by giving your event a name and a password you will later use for checking your event's progress</h3>
            </div>
            <div>
              <ion-card class="myCard">
                <ion-item>
                  <ion-label position="floating">Event Name<span class="required"> *</span></ion-label>
                  <ion-input formControlName="Event_Name" required></ion-input>
                </ion-item>
              <div class="validation-errors">
                <ng-container *ngFor="let validation of this.eventService.form_messages.Event_Name">
                 <div class="error-message"
                   *ngIf="this.eventService.form.get('Event_Name').hasError(validation.type) && (this.eventService.form.get('Event_Name').dirty || this.eventService.form.get('Event_Name').touched)">
                   {{ validation.message }}
                  </div>
                </ng-container>
              </div>

             <ion-item>
                <ion-label position="floating">Password<span class="required"> *</span></ion-label>
                <ion-input type="password" formControlName="Event_Password" required></ion-input>
             </ion-item>
             <div class="validation-errors">
               <ng-container *ngFor="let validation of this.eventService.form_messages.Event_Password">
                 <div class="error-message"
                   *ngIf="this.eventService.form.get('Event_Password').hasError(validation.type) && (this.eventService.form.get('Event_Password').dirty || this.eventService.form.get('Event_Password').touched)">
                    {{ validation.message }}
                 </div>
               </ng-container>
             </div>

             <ion-item>
                <ion-label position="floating">Confirm Password<span class="required"> *</span></ion-label>
                <ion-input type="password" formControlName="Event_CPassword" required></ion-input>
              </ion-item>
             <div class="validation-errors">

               <ng-container *ngFor="let validation of this.eventService.form_messages.Event_CPassword">
                  <div class="error-message"
                   *ngIf="this.eventService.form.get('Event_CPassword').hasError('incorrect') || this.eventService.form.get('Event_CPassword').hasError(validation.type) && (this.eventService.form.get('Event_CPassword').dirty || this.eventService.form.get('Event_CPassword').touched)">
                    {{ validation.message }}
                  </div>

                </ng-container>
             </div>
             <br>
             <br>
             <div class="ion-text-center">
                Now, tell us a little bit more about your event...
             </div>

             <ion-item>
                <ion-label position="floating"> Description (optional)</ion-label>
                <ion-textarea formControlName="Event_Description" clearOnEdit="true"></ion-textarea>
              </ion-item> <br>

              <ion-button (click)="nextForm()" class="round greenBackground" fill="solid" size="large" shape="round" [disabled]="!this.eventService.form.valid">Next</ion-button>
            </ion-card>
            </div>
          </div>

        </form>

        <div [hidden]=hiddenDivs[1]>
          <div class="ion-text-center">
            <h4>Select the available dates for the participants to choose from: </h4>
            <br>
            <ion-calendar [(ngModel)]="dateMulti"
            [options]="optionsMulti"
            (change)="onChange($event)"
            [type]="type"
            [format]="'YYYY-MM-DD'">
            </ion-calendar>
            <ion-checkbox (click)="personalizedClick($event)"></ion-checkbox>
            <span>&nbsp; Personalize hours </span>
          </div>
          <div class="dropdownGroup">
            <ion-item>
              <ion-label>Event Time<span class="required"> *</span></ion-label>
              <ion-select placeholder="9:00 AM" [disabled]=personalizedHours [(ngModel)]="eventTime" (ionChange)="checkTimes()">
                <ion-select-option value="00:00:00">12:00 AM</ion-select-option>
                <ion-select-option value="01:00:00">1:00 AM</ion-select-option>
                <ion-select-option value="02:00:00">2:00 AM</ion-select-option>
                <ion-select-option value="03:00:00">3:00 AM</ion-select-option>
                <ion-select-option value="04:00:00">4:00 AM</ion-select-option>
                <ion-select-option value="05:00:00">5:00 AM</ion-select-option>
                <ion-select-option value="06:00:00">6:00 AM</ion-select-option>
                <ion-select-option value="07:00:00">7:00 AM</ion-select-option>
                <ion-select-option value="08:00:00">8:00 AM</ion-select-option>
                <ion-select-option value="09:00:00">9:00 AM</ion-select-option>
                <ion-select-option value="10:00:00">10:00 AM</ion-select-option>
                <ion-select-option value="11:00:00">11:00 AM</ion-select-option>
                <ion-select-option value="12:00:00">12:00 PM</ion-select-option>
                <ion-select-option value="13:00:00">1:00 PM</ion-select-option>
                <ion-select-option value="14:00:00">2:00 PM</ion-select-option>
                <ion-select-option value="15:00:00">3:00 PM</ion-select-option>
                <ion-select-option value="16:00:00">4:00 PM</ion-select-option>
                <ion-select-option value="17:00:00">5:00 PM</ion-select-option>
                <ion-select-option value="18:00:00">6:00 PM</ion-select-option>
                <ion-select-option value="19:00:00">7:00 PM</ion-select-option>
                <ion-select-option value="20:00:00">8:00 PM</ion-select-option>
                <ion-select-option value="21:00:00">9:00 PM</ion-select-option>
                <ion-select-option value="22:00:00">10:00 PM</ion-select-option>
                <ion-select-option value="23:00:00">11:00 PM</ion-select-option>
              </ion-select>
              <!-- <ion-label>No earlier than</ion-label>
              <ion-datetime displayFormat="HH:mm" minuteValues="0"></ion-datetime> -->
            </ion-item>
            <ion-item>
              <ion-label>Event Time Zone<span class="required"> *</span></ion-label>
              <ion-select placeholder="UTC-6 (Mexico City)" [disabled]=personalizedHours [(ngModel)]="timeZone" (ionChange)="checkTimes()">
                <ion-select-option value="utc-3">UTC-3 (Brasilia)</ion-select-option>
                <ion-select-option value="utc-4">UTC-4 (Venezuela)</ion-select-option>
                <ion-select-option value="utc-4">UTC-5 (New York City)</ion-select-option>
                <ion-select-option value="utc-6">UTC-6 (Mexico City)</ion-select-option>
                <ion-select-option value="utc-7">UTC-7 (Calgary)</ion-select-option>
                <ion-select-option value="utc-8">UTC-8 (Los Angeles)</ion-select-option>
                <ion-select-option value="utc-9">UTC-9 (Anchorage)</ion-select-option>
              </ion-select>
            </ion-item>
          </div>
          <br>
          <ion-button [disabled]=btnDates (click)="nextForm()" class="round greenBackground" fill="solid" size="large" shape="round">Next</ion-button>
        </div>

      </ion-col>
    </ion-row>

    <div [hidden]=true>
      <!-- TODO second release: Tabla -->
      <h5> Se muestra tabla de horas </h5>
      <ion-button (click)="nextForm()" class="round greenBackground" fill="solid" size="large" shape="round">Next</ion-button>
    </div>

    <div [hidden]=hiddenDivs[2]>
      <ion-row class="myRowCentered">
        <ion-text>Finally let's make sure we got everything right...</ion-text>
      </ion-row>
      <br>

      <div id="hideMobile">
        <ion-row>
          <ion-col size-sm=12 size-md=12 size-lg=6 push-lg=2>
            <span class="greenFont">Event Name:</span> <span *ngIf="this.eventName"> {{ this.eventName }} </span> <br> <br>
            <span class="greenFont">Time Zone:</span> <span *ngIf="this.timeZone">  {{ this.timeZone }} </span> <span *ngIf="!this.timeZone">  No timezone provided </span>
          </ion-col>

          <ion-col size-sm=12 size-md=12 size-lg=6 push-lg=1>
            <span class="greenFont">Description:</span>  <span *ngIf="this.eventDescription"> {{ this.eventDescription }} </span> <span *ngIf="!this.eventDescription">  No description provided </span>
          </ion-col>
        </ion-row>
      </div>

      <div id="hideWeb">
        <ion-row>
          <span class="greenFont">Event Name:</span> <span *ngIf="this.eventName"> {{ this.eventName }} </span> <br> <br>
        </ion-row>
        <span class="greenFont">Time Zone:</span> <span *ngIf="this.timeZone">  {{ this.timeZone }} </span> <span *ngIf="!this.timeZone">  No timezone provided </span><br><br>
        <ion-row>
          <span class="greenFont">Description:</span>  <span *ngIf="this.eventDescription"> {{ this.eventDescription }} </span> <span *ngIf="!this.eventDescription">  No description provided </span>
        </ion-row>
      </div>


      <ion-row class="myRowCentered">
        <ion-col size-sm=10 size-md=8 size-lg=8>
            <br>
            <ion-calendar [(ngModel)]="preselectedDates"
            [options]="optionsMulti"
            [type]="type"
            [format]="'YYYY-MM-DD'">
            </ion-calendar>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col class="myColCentered" push-lg=3 size-lg=2 push-md=2 size-md=3 push-sm=3 size-sm=3>
          <ion-button (click)="edit()" class="round greenBackground" fill="solid" expand="block" shape="round">Edit</ion-button>
        </ion-col>
        <ion-col class="myColCentered" push-lg=5 size-lg=2 push-md=4 size-md=3 size-sm=3>
          <ion-button (click)="submit()" class="round greenBackground" fill="solid" expand="block" shape="round" [disabled]="!this.eventService.form.valid">Confirm</ion-button>
        </ion-col>
      </ion-row>
    </div>

    <div [hidden]=hiddenDivs[3]>
      <ion-row style="padding-top: 4em;">
        <ion-col size-md=8 push-md=2 size-lg=8 push-lg=2>
          <ion-item class="itemBorder" text-center>
            <ion-label class="confirmText ion-text-wrap">
              https://utexas.instructure.com/courses/1298628/quizzes/1489217?module_item_id=10664210
            </ion-label>
          </ion-item>
        </ion-col>

      </ion-row>
      <ion-row class="myRowCentered" style="padding-top: 0.5em;">
        <ion-col size-md=4 size-lg=3>
          <ion-button fill="solid" expand="block" shape="round">Copy Link</ion-button>
        </ion-col>
      </ion-row>

      <ion-row style="padding-top: 4em;">
        <ion-col size-md=8 push-md=2 size-lg=8 push-lg=2>
          <ion-item class="itemBorder" text-center>
            <ion-label class="confirmText ion-text-wrap">
              CenaNavidad10664210
            </ion-label>
          </ion-item>
        </ion-col>

      </ion-row>
      <ion-row class="myRowCentered" style="padding-top: 0.5em;">
        <ion-col size-md=4 size-lg=3>
          <ion-button fill="solid" expand="block" shape="round">Copy ID</ion-button>
        </ion-col>
      </ion-row>

    </div>
  </ion-grid>
</ion-content>
